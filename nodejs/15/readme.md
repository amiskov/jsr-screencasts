# Эхо-сервер на Node.JS
Наш сервер должен при запросе на `127.0.0.1/echo?message=...` выдавать это сообщение в браузер. При других вопросах надо выдавать 404.

При установке соединения, есил руками не написать `res.end()`, то запрос в браузере будет висеть и ждать ответа. Сервер Ноды делает только то, что ему скажешь. Часто остальные платформы делают не так.

Модуль `url` в Ноде занимается парсингом урлов. 

## Работа с заголовками
Заголовки, которые посылает браузер, доступны как `req.headers`. В Ноде все заголовки в нижнем регистре: `keep-alive`, `cache-control` и т. д.

Сервер так же отвечает заголовками. В частности, в нем есть статус: `200`, `404`, `500` и пр.

Наиболее важные заголовки, которые ставят вручную, — это типы содержимого и кеширование.

По заголовкам стоит почитать книжки по HTTP и кешированию.

`res.setHeader`, `res.removeHeader` — добавляют/удаляют заголовок. Заголовки будут отправлены не сразу, а с записью данных (`res.end()`, например).

Есть еще `res.statusCode = 404` — устанавливает код ответа сервера.

А есть явный способ: `res.writeHead(200, "OK", {'Cache-control': 'no-cache'})`. При этом заголовки пишутся тут же, не ожидая ближайшей записи. Обычно хватает `statusCode` и `setHeader`.


