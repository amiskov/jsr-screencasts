# Логирование, модули debug и winston
Отладочный вывод — логирование.

Если просто использовать `console.log` для вывода отладочной информации, то будет каша — не понятно, какой модуль что выводит. `console.log` подходит для чего-то мелкого.

Еще хорошо бы включать вывод только в тех файлах, которые нас интересуют для отладки.

## Модуль [`debug`](https://www.npmjs.com/package/debug)
Хорошо подходит для небольших проектов.

Чтобы работал, нужно запустить Ноду с переменной окружения `DEBUG=<identificator>`: `DEBUG=server server.js`.

В идентификаторах можно использовать `:`. Например, `server:request`, `server:response` и т. д. И тогда можно указывать при запуске:

```bash
DEBUG=server:* node server.js
DEBUG=server:request node server.js
DEBUG=server,server:request node server.js
# ...
```

Модуль `debug` хороший и простой, но он не может ранжировать важность сообщений. Кроме того он пишет только в стандартный поток вывода, а мы можем захотеть писать в файл или БД.

## Модуль [`winston`](https://www.npmjs.com/package/winston)
Полноценное логгинг-решение с возможности записывать в файл, БД, выводить сообщения разного уровня важности.

В этом модуле есть:
* `debug` для низкой важности
* `info` для средней важности
* `error` для высокой важности

По умолчанию выводит только `info` и более важные.

Из коробки `winston` не может разграничить вывод по индентификаторам, как `debug`. Но можно сделать свою обертку.

`winston` настраивается с помощью транспортов: `Console`, `File` и пр.

## NODE_DEBUG
Это средство для глубокой отладки. Так можно включить вывод сообщений от встроенных модулей:

```bash
NODE_DEBUG="cluster fs http module net timer tls" node server.js
```

